"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[978],{51042:function(O,g,t){var E=t(1413),i=t(67294),d=t(42110),a=t(91146),n=function(_,p){return i.createElement(a.Z,(0,E.Z)((0,E.Z)({},_),{},{ref:p,icon:d.Z}))},e=i.forwardRef(n);g.Z=e},90672:function(O,g,t){var E=t(1413),i=t(91),d=t(67294),a=t(72381),n=t(85893),e=["fieldProps","proFieldProps"],j=function(p,l){var b=p.fieldProps,L=p.proFieldProps,I=(0,i.Z)(p,e);return(0,n.jsx)(a.Z,(0,E.Z)({ref:l,valueType:"textarea",fieldProps:b,proFieldProps:L},I))};g.Z=d.forwardRef(j)},58547:function(O,g,t){t.d(g,{h:function(){return i},y:function(){return d}});var E=t(67294),i=function(n){return console.log("Upload event:",n),Array.isArray(n)?n:n&&n.fileList},d=function(n){return new Promise(function(e,j){var _=new FileReader;_.readAsDataURL(n.file.originFileObj),_.onload=function(){var p=_.result;console.log("DataURL: test",p),e(p)},_.onerror=function(p){return j(p)}})}},16801:function(O,g,t){t.d(g,{p:function(){return E}});var E=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(a){setTimeout(function(){a(!0)},d)})}},49790:function(O,g,t){var E=t(67294),i=t(4393),d=t(71230),a=t(15746),n=t(99559),e=t(85893),j=function(p){var l=p.active;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Z,{style:{marginBlockEnd:15},children:(0,e.jsxs)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:6,children:[(0,e.jsx)(n.Z.Image,{active:l,style:{width:"210px",maxWidth:"240px",height:"200px",marginBlockEnd:10}}),(0,e.jsx)(a.Z,{span:24,children:(0,e.jsx)(n.Z.Button,{active:l,style:{width:"140px",maxWidth:"200px",height:"35px",marginLeft:"20px"}})})]}),(0,e.jsxs)(a.Z,{span:18,children:[(0,e.jsxs)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]}),(0,e.jsx)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsxs)(a.Z,{span:24,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})})]})]})}),(0,e.jsx)(i.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(a.Z,{span:24,children:(0,e.jsxs)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(i.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(a.Z,{span:24,children:(0,e.jsxs)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(i.Z,{children:(0,e.jsx)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(a.Z,{span:24,children:(0,e.jsxs)(d.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})})]})};g.Z=j},43519:function(O,g,t){t.r(g);var E=t(5574),i=t.n(E),d=t(15009),a=t.n(d),n=t(99289),e=t.n(n),j=t(6110),_=t(34994),p=t(2236),l=t(58128),b=t(5966),L=t(90672),I=t(55895),k=t(64317),S=t(2453),V=t(53025),J=t(71230),C=t(15746),Q=t(55060),X=t(66476),Y=t(14726),q=t(51042),ee=t(88484),v=t(67294),T=t(35312),te=t(49790),ne=t(16801),z=t(58547),o=t(85893),ae=function(){var F=e()(a()().mark(function R(s){var f,W;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",s),console.log("values"),console.log(s),f=new FormData,console.log("formData - before"),console.log(f),f.append("title",s==null?void 0:s.title),f.append("description",s==null?void 0:s.description),f.append("image",s==null?void 0:s.image),console.log("formData - after"),console.log(f),m.prev=12,W={title:s==null?void 0:s.title,description:s==null?void 0:s.description,image:s==null?void 0:s.image,accommodations:s==null?void 0:s.accommodations.map(function(h){return h==null?void 0:h.accommodation}),attractions:s==null?void 0:s.attractions.map(function(h){return h==null?void 0:h.attraction})},m.next=16,(0,T.request)("/api/destinations",{method:"post",data:W}).then(function(){var h=e()(a()().mark(function U(x){var M,y;return a()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:console.log("api_response"),console.log(x),(x==null||(M=x.data)===null||M===void 0?void 0:M.id)>0&&(S.ZP.success("Submitted successfully"),T.history.push("/admin-app/destinations/edit/"+(x==null||(y=x.data)===null||y===void 0?void 0:y.id)));case 3:case"end":return Z.stop()}},U)}));return function(U){return h.apply(this,arguments)}}()).catch(function(h){console.log(h)});case 16:return m.abrupt("return",m.sent);case 19:m.prev=19,m.t0=m.catch(12),console.log("api_response - error"),console.log(m.t0);case 23:return m.abrupt("return",!0);case 24:case"end":return m.stop()}},R,null,[[12,19]])}));return function(s){return F.apply(this,arguments)}}(),oe=function(){var R=V.Z.useForm(),s=i()(R,1),f=s[0],W=(0,v.useState)(""),K=i()(W,2),m=K[0],h=K[1],U=(0,v.useState)(!0),x=i()(U,2),M=x[0],y=x[1],w=(0,v.useState)("https://vu.project.wpvisions.com/images/default/placeholder.jpg"),Z=i()(w,2),$=Z[0],G=Z[1],se=(0,v.useState)([]),H=i()(se,2),le=H[0],re=H[1],ie=(0,v.useState)([]),N=i()(ie,2),de=N[0],ce=N[1];(0,v.useEffect)(function(){return(0,T.request)("/api/accommodations",{params:{page:1,per_page:1e3,order_by:"id",order:"asc"}}).then(function(){var u=e()(a()().mark(function r(c){var P;return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:console.log("api_response"),console.log(c),console.log("api_response.data"),console.log(c.data),console.log("api_response.data.data"),console.log(c.data.data),P=c.data.data.map(function(A,ue){return{value:A.id,label:A.title}}),console.log("table_data"),console.log(P),re(P);case 10:case"end":return B.stop()}},r)}));return function(r){return u.apply(this,arguments)}}()).catch(function(u){console.log(u)})},[]),(0,v.useEffect)(function(){return(0,T.request)("/api/attractions",{params:{page:1,per_page:1e3,order_by:"id",order:"asc"}}).then(function(){var u=e()(a()().mark(function r(c){var P;return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:console.log("api_response"),console.log(c),console.log("api_response.data"),console.log(c.data),console.log("api_response.data.data"),console.log(c.data.data),P=c.data.data.map(function(A,ue){return{value:A.id,label:A.title}}),console.log("table_data"),console.log(P),ce(P);case 10:case"end":return B.stop()}},r)}));return function(r){return u.apply(this,arguments)}}()).catch(function(u){console.log(u)})},[]),(0,v.useEffect)(function(){f.setFieldValue(["bio_details","staff_member_profile_image"],m),y(!1)},[m,f]);var _e=function(r){r.file.status!=="uploading"&&(r.file.status=="removed"&&G(""),r.file.status==="done"&&(0,z.y)(r).then(function(c){console.log("base64String"),console.log(c),G(c)}),r.file.status==="error"&&S.ZP.error("".concat(r.file.name," file upload failed.")))},me=(0,o.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,o.jsx)(q.Z,{}),(0,o.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return M?(0,o.jsx)(j._z,{header:{title:""},children:(0,o.jsx)(te.Z,{active:!0})}):(0,o.jsx)(j._z,{children:(0,o.jsxs)(_.A,{layout:"vertical",grid:!0,form:f,onFinish:function(){var u=e()(a()().mark(function r(c){return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return console.log(c),D.next=3,(0,ne.p)(1e3);case 3:return c.image=$,D.next=6,ae(c);case 6:case"end":return D.stop()}},r)}));return function(r){return u.apply(this,arguments)}}(),submitter:{render:function(r,c){return(0,o.jsx)(p.S,{children:c})}},children:[(0,o.jsx)(l.Z,{title:"Destination Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(r){return console.log(r)},children:(0,o.jsxs)(J.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,o.jsx)(C.Z,{span:10,children:(0,o.jsxs)(_.A.Group,{size:24,children:[(0,o.jsx)(C.Z,{span:24,children:(0,o.jsx)(Q.Z,{width:"100%",height:200,src:$})}),(0,o.jsx)(C.Z,{span:24,style:{textAlign:"center"},children:(0,o.jsx)(_.A.Item,{name:"image",getValueFromEvent:z.h,children:(0,o.jsx)(X.Z,{name:"image",onChange:_e,maxCount:1,children:(0,o.jsx)(Y.ZP,{type:"primary",icon:(0,o.jsx)(ee.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(r){},children:"Change Image"})})})})]})}),(0,o.jsx)(C.Z,{span:14,children:(0,o.jsxs)(_.A.Group,{size:24,children:[(0,o.jsx)(b.Z,{name:"title",label:"Title",placeholder:"Type destination title",fieldProps:{onChange:function(r){console.log("e.target.value"),console.log(r.target.value)}},colProps:{xs:24,sm:24,md:24,lg:24,xl:24}}),(0,o.jsx)(L.Z,{name:"description",label:"Description",placeholder:"Share a little details regarding the destination. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24},fieldProps:{size:"middle"}})]})})]})}),(0,o.jsx)(l.Z,{title:"Accommodations Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"default",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(r){return console.log(r)},children:(0,o.jsx)(_.A.Group,{title:"Accommodations",size:24,children:(0,o.jsx)(I.u,{name:"accommodations",min:1,copyIconProps:{tooltipText:"Copy this accommodation"},deleteIconProps:{tooltipText:"Delete this accommodation"},creatorButtonProps:{creatorButtonText:"Add New Accommodation"},children:(0,o.jsx)(_.A.Group,{size:24,children:(0,o.jsx)(k.Z,{name:"accommodation",label:"Name",showSearch:!0,options:le,debounceTime:300,placeholder:"Please Select Accommodation",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})})})}),(0,o.jsx)(l.Z,{title:"Attractions Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"default",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(r){return console.log(r)},children:(0,o.jsx)(_.A.Group,{title:"Attractions",size:24,children:(0,o.jsx)(I.u,{name:"attractions",min:1,copyIconProps:{tooltipText:"Copy this attraction"},deleteIconProps:{tooltipText:"Delete this attraction"},creatorButtonProps:{creatorButtonText:"Add New Attraction"},children:(0,o.jsx)(_.A.Group,{size:24,children:(0,o.jsx)(k.Z,{name:"attraction",label:"Name",showSearch:!0,options:de,debounceTime:300,placeholder:"Please Select Attraction",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})})})})]})})};g.default=oe}}]);
