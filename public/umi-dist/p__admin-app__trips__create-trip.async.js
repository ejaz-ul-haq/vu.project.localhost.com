"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5787],{51042:function(B,g,t){var E=t(1413),d=t(67294),_=t(42110),a=t(91146),n=function(c,m){return d.createElement(a.Z,(0,E.Z)((0,E.Z)({},c),{},{ref:m,icon:_.Z}))},e=d.forwardRef(n);g.Z=e},22452:function(B,g,t){var E=t(1413),d=t(91),_=t(67294),a=t(66758),n=t(9170),e=t(85893),f=["fieldProps","proFieldProps"],c="dateTime",m=_.forwardRef(function(l,T){var y=l.fieldProps,O=l.proFieldProps,U=(0,d.Z)(l,f),b=(0,_.useContext)(a.Z);return(0,e.jsx)(n.Z,(0,E.Z)({ref:T,fieldProps:(0,E.Z)({getPopupContainer:b.getPopupContainer},y),valueType:c,proFieldProps:O,filedConfig:{valueType:c,customLightMode:!0}},U))});g.Z=m},90672:function(B,g,t){var E=t(1413),d=t(91),_=t(67294),a=t(9170),n=t(85893),e=["fieldProps","proFieldProps"],f=function(m,l){var T=m.fieldProps,y=m.proFieldProps,O=(0,d.Z)(m,e);return(0,n.jsx)(a.Z,(0,E.Z)({ref:l,valueType:"textarea",fieldProps:T,proFieldProps:y},O))};g.Z=_.forwardRef(f)},58547:function(B,g,t){t.d(g,{h:function(){return d},y:function(){return _}});var E=t(67294),d=function(n){return console.log("Upload event:",n),Array.isArray(n)?n:n&&n.fileList},_=function(n){return new Promise(function(e,f){var c=new FileReader;c.readAsDataURL(n.file.originFileObj),c.onload=function(){var m=c.result;console.log("DataURL: test",m),e(m)},c.onerror=function(m){return f(m)}})}},16801:function(B,g,t){t.d(g,{p:function(){return E}});var E=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(a){setTimeout(function(){a(!0)},_)})}},49790:function(B,g,t){var E=t(67294),d=t(4393),_=t(71230),a=t(15746),n=t(99559),e=t(85893),f=function(m){var l=m.active;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(d.Z,{style:{marginBlockEnd:15},children:(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:6,children:[(0,e.jsx)(n.Z.Image,{active:l,style:{width:"210px",maxWidth:"240px",height:"200px",marginBlockEnd:10}}),(0,e.jsx)(a.Z,{span:24,children:(0,e.jsx)(n.Z.Button,{active:l,style:{width:"140px",maxWidth:"200px",height:"35px",marginLeft:"20px"}})})]}),(0,e.jsxs)(a.Z,{span:18,children:[(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]}),(0,e.jsx)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsxs)(a.Z,{span:24,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})})]})]})}),(0,e.jsx)(d.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(a.Z,{span:24,children:(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(d.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(a.Z,{span:24,children:(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(d.Z,{children:(0,e.jsx)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(a.Z,{span:24,children:(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(a.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(a.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})})]})};g.Z=f},46454:function(B,g,t){t.r(g);var E=t(5574),d=t.n(E),_=t(15009),a=t.n(_),n=t(99289),e=t.n(n),f=t(6110),c=t(34994),m=t(2236),l=t(93410),T=t(5966),y=t(90672),O=t(64317),U=t(22452),b=t(55895),S=t(2453),X=t(53025),q=t(71230),W=t(15746),ee=t(55060),te=t(66476),ne=t(14726),ae=t(51042),se=t(88484),P=t(67294),C=t(35312),re=t(49790),le=t(16801),oe=t(27484),k=t.n(oe),F=t(58547),s=t(85893),ie=function(){var z=e()(a()().mark(function L(r){var Z;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",r),console.log("values"),console.log(r),Z={title:r==null?void 0:r.title,description:r==null?void 0:r.description,image:r==null?void 0:r.image,price:r==null?void 0:r.price,destination_id:r==null?void 0:r.list_destinations,accommodation_id:r==null?void 0:r.list_accommodations,start_date_time:k()(new Date(r==null?void 0:r.trip_start_date_time)).format("YYYY-MM-DD HH:mm:ss"),end_date_time:k()(new Date(r==null?void 0:r.trip_end_date_time)).format("YYYY-MM-DD HH:mm:ss"),users:r==null?void 0:r.users.map(function(v){return v==null?void 0:v.user})},console.log("request_data - after"),console.log(Z),p.prev=7,p.next=10,(0,C.request)("/api/trips",{method:"POST",data:Z}).then(function(){var v=e()(a()().mark(function K(j){var I,A;return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:console.log("api_response"),console.log(j),(j==null||(I=j.data)===null||I===void 0?void 0:I.id)>0&&(S.ZP.success("Submitted successfully"),C.history.push("/admin-app/trips/edit/"+(j==null||(A=j.data)===null||A===void 0?void 0:A.id)));case 3:case"end":return R.stop()}},K)}));return function(K){return v.apply(this,arguments)}}()).catch(function(v){console.log(v)});case 10:return p.abrupt("return",p.sent);case 13:p.prev=13,p.t0=p.catch(7),console.log("api_response - error"),console.log(p.t0);case 17:return p.abrupt("return",!0);case 18:case"end":return p.stop()}},L,null,[[7,13]])}));return function(r){return z.apply(this,arguments)}}(),de=function(){var L=X.Z.useForm(),r=d()(L,1),Z=r[0],Y=(0,P.useState)(""),p=d()(Y,2),v=p[0],K=p[1],j=(0,P.useState)(!0),I=d()(j,2),A=I[0],w=I[1],R=(0,P.useState)("http://vu.project.localhost.com/images/default/placeholder.jpg"),H=d()(R,2),$=H[0],G=H[1],_e=(0,P.useState)([]),N=d()(_e,2),ce=N[0],ue=N[1],me=(0,P.useState)([]),V=d()(me,2),pe=V[0],ge=V[1],Ee=(0,P.useState)([]),J=d()(Ee,2),he=J[0],fe=J[1];(0,P.useEffect)(function(){return(0,C.request)("/api/destinations",{params:{page:1,per_page:1e3,order_by:"id",order:"asc"}}).then(function(){var u=e()(a()().mark(function o(i){var h;return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:console.log("api_response"),console.log(i),console.log("api_response.data"),console.log(i.data),console.log("api_response.data.data"),console.log(i.data.data),h=i.data.data.map(function(M,Q){return{value:M.id,label:M.title}}),console.log("table_data"),console.log(h),ue(h);case 10:case"end":return x.stop()}},o)}));return function(o){return u.apply(this,arguments)}}()).catch(function(u){console.log(u)})},[]),(0,P.useEffect)(function(){return(0,C.request)("/api/accommodations",{params:{page:1,per_page:1e3,order_by:"id",order:"asc"}}).then(function(){var u=e()(a()().mark(function o(i){var h;return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:console.log("api_response"),console.log(i),console.log("api_response.data"),console.log(i.data),console.log("api_response.data.data"),console.log(i.data.data),h=i.data.data.map(function(M,Q){return{value:M.id,label:M.title}}),console.log("table_data"),console.log(h),ge(h);case 10:case"end":return x.stop()}},o)}));return function(o){return u.apply(this,arguments)}}()).catch(function(u){console.log(u)})},[]),(0,P.useEffect)(function(){return(0,C.request)("/api/users",{params:{page:1,per_page:1e3,order_by:"id",order:"desc"}}).then(function(){var u=e()(a()().mark(function o(i){var h;return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:console.log("api_response"),console.log(i),console.log("api_response.data"),console.log(i.data),console.log("api_response.data.data"),console.log(i.data.data),h=i.data.data.map(function(M,Q){return{value:M.id,label:M.name}}),console.log("table_data"),console.log(h),fe(h);case 10:case"end":return x.stop()}},o)}));return function(o){return u.apply(this,arguments)}}()).catch(function(u){console.log(u)})},[]),(0,P.useEffect)(function(){Z.setFieldValue(["bio_details","staff_member_profile_image"],v),w(!1)},[v,Z]);var xe=function(o){o.file.status!=="uploading"&&(o.file.status=="removed"&&G(""),o.file.status==="done"&&(0,F.y)(o).then(function(i){console.log("base64String"),console.log(i),G(i)}),o.file.status==="error"&&S.ZP.error("".concat(o.file.name," file upload failed.")))},Pe=(0,s.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,s.jsx)(ae.Z,{}),(0,s.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return A?(0,s.jsx)(f._z,{header:{title:""},children:(0,s.jsx)(re.Z,{active:!0})}):(0,s.jsx)(f._z,{children:(0,s.jsxs)(c.A,{layout:"vertical",grid:!0,form:Z,onFinish:function(){var u=e()(a()().mark(function o(i){return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return console.log(i),D.next=3,(0,le.p)(1e3);case 3:return i.image=$,D.next=6,ie(i);case 6:case"end":return D.stop()}},o)}));return function(o){return u.apply(this,arguments)}}(),submitter:{render:function(o,i){return(0,s.jsx)(m.S,{children:i})}},children:[(0,s.jsx)(l.Z,{title:"Trip Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(o){return console.log(o)},children:(0,s.jsxs)(q.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,s.jsx)(W.Z,{span:10,children:(0,s.jsxs)(c.A.Group,{size:24,children:[(0,s.jsx)(W.Z,{span:24,children:(0,s.jsx)(ee.Z,{width:"100%",height:200,src:$})}),(0,s.jsx)(W.Z,{span:24,style:{textAlign:"center"},children:(0,s.jsx)(c.A.Item,{name:"image",getValueFromEvent:F.h,children:(0,s.jsx)(te.Z,{name:"image",onChange:xe,maxCount:1,children:(0,s.jsx)(ne.ZP,{type:"primary",icon:(0,s.jsx)(se.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(o){},children:"Change Image"})})})})]})}),(0,s.jsx)(W.Z,{span:14,children:(0,s.jsxs)(c.A.Group,{size:24,children:[(0,s.jsx)(T.Z,{name:"title",label:"Title",placeholder:"Type trip title",fieldProps:{onChange:function(o){console.log("e.target.value"),console.log(o.target.value)}},colProps:{xs:24,sm:24,md:24,lg:24,xl:24}}),(0,s.jsx)(T.Z,{name:"price",label:"Price",placeholder:"Type trip price Example (15000)",fieldProps:{onChange:function(o){console.log("e.target.value"),console.log(o.target.value)}},colProps:{xs:24,sm:24,md:24,lg:24,xl:24}}),(0,s.jsx)(y.Z,{name:"description",label:"Description",placeholder:"Share a little details regarding the trip. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24},fieldProps:{size:"middle"}})]})}),(0,s.jsxs)(c.A.Group,{size:24,children:[(0,s.jsx)(O.Z,{name:"list_destinations",label:"Destinations",showSearch:!0,options:ce,debounceTime:300,placeholder:"Please Select Your Destination",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,s.jsx)(O.Z,{name:"list_accommodations",label:"Accommodations",showSearch:!0,options:pe,debounceTime:300,placeholder:"Please Select Your Accommodations",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,s.jsxs)(c.A.Group,{size:24,children:[(0,s.jsx)(U.Z,{label:"Select Your Trip Start Date",name:"trip_start_date_time",placeholder:"Start date",rules:[{required:!0}],colProps:{xs:24,sm:24,md:6,lg:6,xl:6}}),(0,s.jsx)(U.Z,{label:"Select Your Trip End Date",name:"trip_end_date_time",placeholder:"End date",rules:[{required:!0}],colProps:{xs:24,sm:24,md:6,lg:6,xl:6}})]})]})}),(0,s.jsx)(l.Z,{title:"Travel Mates Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"default",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(o){return console.log(o)},children:(0,s.jsx)(c.A.Group,{title:"Travel Mates",size:24,children:(0,s.jsx)(b.u,{name:"users",min:1,copyIconProps:{tooltipText:"Copy this travel mate"},deleteIconProps:{tooltipText:"Delete this travel mate"},creatorButtonProps:{creatorButtonText:"Add New Travel Mate"},children:(0,s.jsx)(c.A.Group,{size:24,children:(0,s.jsx)(O.Z,{name:"user",label:"Name",showSearch:!0,options:he,debounceTime:300,placeholder:"Please Select Travel Mate",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})})})})]})})};g.default=de}}]);
