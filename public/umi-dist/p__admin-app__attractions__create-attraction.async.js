"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[343],{51042:function(D,p,t){var g=t(1413),i=t(67294),o=t(42110),s=t(91146),n=function(u,c){return i.createElement(s.Z,(0,g.Z)((0,g.Z)({},u),{},{ref:c,icon:o.Z}))},e=i.forwardRef(n);p.Z=e},90672:function(D,p,t){var g=t(1413),i=t(91),o=t(67294),s=t(72381),n=t(85893),e=["fieldProps","proFieldProps"],x=function(c,l){var T=c.fieldProps,R=c.proFieldProps,U=(0,i.Z)(c,e);return(0,n.jsx)(s.Z,(0,g.Z)({ref:l,valueType:"textarea",fieldProps:T,proFieldProps:R},U))};p.Z=o.forwardRef(x)},58547:function(D,p,t){t.d(p,{h:function(){return i},y:function(){return o}});var g=t(67294),i=function(n){return console.log("Upload event:",n),Array.isArray(n)?n:n&&n.fileList},o=function(n){return new Promise(function(e,x){var u=new FileReader;u.readAsDataURL(n.file.originFileObj),u.onload=function(){var c=u.result;console.log("DataURL: test",c),e(c)},u.onerror=function(c){return x(c)}})}},16801:function(D,p,t){t.d(p,{p:function(){return g}});var g=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(s){setTimeout(function(){s(!0)},o)})}},49790:function(D,p,t){var g=t(67294),i=t(4393),o=t(71230),s=t(15746),n=t(99559),e=t(85893),x=function(c){var l=c.active;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Z,{style:{marginBlockEnd:15},children:(0,e.jsxs)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:6,children:[(0,e.jsx)(n.Z.Image,{active:l,style:{width:"210px",maxWidth:"240px",height:"200px",marginBlockEnd:10}}),(0,e.jsx)(s.Z,{span:24,children:(0,e.jsx)(n.Z.Button,{active:l,style:{width:"140px",maxWidth:"200px",height:"35px",marginLeft:"20px"}})})]}),(0,e.jsxs)(s.Z,{span:18,children:[(0,e.jsxs)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]}),(0,e.jsx)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsxs)(s.Z,{span:24,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})})]})]})}),(0,e.jsx)(i.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(s.Z,{span:24,children:(0,e.jsxs)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(i.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(s.Z,{span:24,children:(0,e.jsxs)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(i.Z,{children:(0,e.jsx)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(s.Z,{span:24,children:(0,e.jsxs)(o.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:l,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})})]})};p.Z=x},49662:function(D,p,t){t.r(p);var g=t(5574),i=t.n(g),o=t(15009),s=t.n(o),n=t(99289),e=t.n(n),x=t(6110),u=t(34994),c=t(2236),l=t(58128),T=t(5966),R=t(90672),U=t(64317),b=t(2453),G=t(53025),V=t(71230),B=t(15746),Y=t(55060),J=t(66476),N=t(14726),Q=t(51042),X=t(88484),j=t(67294),W=t(35312),q=t(49790),ee=t(16801),k=t(58547),r=t(85893),te=function(){var F=e()(s()().mark(function M(a){var E,I;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",a),console.log("values"),console.log(a),E=new FormData,console.log("formData - before"),console.log(E),E.append("title",a==null?void 0:a.title),E.append("description",a==null?void 0:a.description),E.append("image",a==null?void 0:a.image),console.log("formData - after"),console.log(E),d.prev=12,I={title:a==null?void 0:a.title,description:a==null?void 0:a.description,image:a==null?void 0:a.image,destination_id:a==null?void 0:a.list_destinations},d.next=16,(0,W.request)("/api/attractions",{method:"POST",data:I}).then(function(){var y=e()(s()().mark(function A(h){var Z,O;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:console.log("api_response"),console.log(h),(h==null||(Z=h.data)===null||Z===void 0?void 0:Z.id)>0&&(b.ZP.success("Submitted successfully"),W.history.push("/admin-app/attractions/edit/"+(h==null||(O=h.data)===null||O===void 0?void 0:O.id)));case 3:case"end":return v.stop()}},A)}));return function(A){return y.apply(this,arguments)}}()).catch(function(y){console.log(y)});case 16:return d.abrupt("return",d.sent);case 19:d.prev=19,d.t0=d.catch(12),console.log("api_response - error"),console.log(d.t0);case 23:return d.abrupt("return",!0);case 24:case"end":return d.stop()}},M,null,[[12,19]])}));return function(a){return F.apply(this,arguments)}}(),ne=function(){var M=G.Z.useForm(),a=i()(M,1),E=a[0],I=(0,j.useState)(""),L=i()(I,2),d=L[0],y=L[1],A=(0,j.useState)(!0),h=i()(A,2),Z=h[0],O=h[1],S=(0,j.useState)("http://vu.project.localhost.com/images/default/placeholder.jpg"),v=i()(S,2),z=v[0],w=v[1],se=(0,j.useState)([]),$=i()(se,2),ae=$[0],le=$[1];(0,j.useEffect)(function(){return(0,W.request)("/api/destinations",{params:{page:1,per_page:1e3,order_by:"id",order:"asc"}}).then(function(){var f=e()(s()().mark(function _(m){var C;return s()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:console.log("api_response"),console.log(m),console.log("api_response.data"),console.log(m.data),console.log("api_response.data.data"),console.log(m.data.data),C=m.data.data.map(function(H,ie){return{value:H.id,label:H.title}}),console.log("table_data"),console.log(C),le(C);case 10:case"end":return K.stop()}},_)}));return function(_){return f.apply(this,arguments)}}()).catch(function(f){console.log(f)})},[]),(0,j.useEffect)(function(){E.setFieldValue(["bio_details","staff_member_profile_image"],d),O(!1)},[d,E]);var re=function(_){_.file.status!=="uploading"&&(_.file.status=="removed"&&w(""),_.file.status==="done"&&(0,k.y)(_).then(function(m){console.log("base64String"),console.log(m),w(m)}),_.file.status==="error"&&b.ZP.error("".concat(_.file.name," file upload failed.")))},oe=(0,r.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,r.jsx)(Q.Z,{}),(0,r.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return Z?(0,r.jsx)(x._z,{header:{title:""},children:(0,r.jsx)(q.Z,{active:!0})}):(0,r.jsx)(x._z,{children:(0,r.jsx)(u.A,{layout:"vertical",grid:!0,form:E,onFinish:function(){var f=e()(s()().mark(function _(m){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log(m),P.next=3,(0,ee.p)(1e3);case 3:return m.image=z,P.next=6,te(m);case 6:case"end":return P.stop()}},_)}));return function(_){return f.apply(this,arguments)}}(),submitter:{render:function(_,m){return(0,r.jsx)(c.S,{children:m})}},children:(0,r.jsx)(l.Z,{title:"Attraction Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(_){return console.log(_)},children:(0,r.jsxs)(V.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(B.Z,{span:10,children:(0,r.jsxs)(u.A.Group,{size:24,children:[(0,r.jsx)(B.Z,{span:24,children:(0,r.jsx)(Y.Z,{width:"100%",height:200,src:z})}),(0,r.jsx)(B.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(u.A.Item,{name:"image",getValueFromEvent:k.h,children:(0,r.jsx)(J.Z,{name:"image",onChange:re,maxCount:1,children:(0,r.jsx)(N.ZP,{type:"primary",icon:(0,r.jsx)(X.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(_){},children:"Change Image"})})})})]})}),(0,r.jsx)(B.Z,{span:14,children:(0,r.jsxs)(u.A.Group,{size:24,children:[(0,r.jsx)(T.Z,{name:"title",label:"Title",placeholder:"Type attraction title",fieldProps:{onChange:function(_){console.log("e.target.value"),console.log(_.target.value)}},colProps:{xs:24,sm:24,md:24,lg:24,xl:24}}),(0,r.jsx)(R.Z,{name:"description",label:"Description",placeholder:"Share a little details regarding the attraction. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24},fieldProps:{size:"middle"}}),(0,r.jsx)(U.Z,{name:"list_destinations",label:"Destinations",showSearch:!0,options:ae,debounceTime:300,placeholder:"Please Select Your Destination",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})]})})]})})})})};p.default=ne}}]);
