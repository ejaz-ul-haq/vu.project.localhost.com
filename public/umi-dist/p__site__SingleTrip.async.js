"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2743],{43973:function(E,g,t){t.d(g,{Z:function(){return r}});var c=t(1413),l=t(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v584zM688 420h-55.2c-5.1 0-10 2.5-13 6.6L468.9 634.4l-64.7-89c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.4 0-12.8-6.5-12.8z"}}]},name:"carry-out",theme:"outlined"},v=j,S=t(91146),u=function(d,s){return l.createElement(S.Z,(0,c.Z)((0,c.Z)({},d),{},{ref:s,icon:v}))},o=l.forwardRef(u),r=o},59117:function(E,g,t){t.d(g,{Z:function(){return r}});var c=t(1413),l=t(67294),j={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"},v=j,S=t(91146),u=function(d,s){return l.createElement(S.Z,(0,c.Z)((0,c.Z)({},d),{},{ref:s,icon:v}))},o=l.forwardRef(u),r=o},35311:function(E,g,t){t.r(g),t.d(g,{default:function(){return b}});var c=t(15009),l=t.n(c),j=t(99289),v=t.n(j),S=t(5574),u=t.n(S),o=t(35312),r=t(67294),Z=t(4393),d=t(71230),s=t(15746),V=t(83062),F=t(14726),U=t(2453),C=t(55060),P=t(59117),J=t(43973),K=t(97302),Q=t(27484),R=t.n(Q),n=t(85893),W=Z.Z.Meta,X=function(){var T,M,D,H,N,$,y=(0,o.useModel)("@@initialState"),O=y.initialState,rn=y.loading,on=y.refresh,dn=y.setInitialState;console.log("initialState"),console.log(O);var k=(0,o.useParams)(),q=(0,r.useState)(0),w=u()(q,2),z=w[0],_=w[1],nn=(0,r.useState)(null),L=u()(nn,2),i=L[0],tn=L[1],en=(0,r.useState)(!1),B=u()(en,2),an=B[0],I=B[1];return(0,r.useEffect)(function(){_(k.id)},[]),(0,r.useEffect)(function(){z!=0&&(0,o.request)("/api/trips/"+z,{method:"GET"}).then(function(){var e=v()(l()().mark(function h(m){return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:console.log("api_response"),console.log(m),tn(m==null?void 0:m.data);case 3:case"end":return a.stop()}},h)}));return function(h){return e.apply(this,arguments)}}()).catch(function(e){console.log(e)})},[z]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"single-trip-section-banner-wrapper",children:[(0,n.jsx)("h1",{children:"Trip Details"}),(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsxs)("div",{className:"single-trip-section-banner-content",children:[(0,n.jsx)("h1",{children:i==null?void 0:i.title}),(0,n.jsx)("p",{children:i==null?void 0:i.description}),(0,n.jsxs)("p",{children:[(0,n.jsx)(P.Z,{})," Price: ",i==null?void 0:i.price]}),(0,n.jsxs)("p",{children:[(0,n.jsx)(J.Z,{})," Start Date: ",R()(new Date(i==null?void 0:i.start_date_time)).format("DD-MM-YYYY hh:mm:ss A")]}),(0,n.jsxs)("p",{children:[(0,n.jsx)(K.Z,{})," End Date: ",R()(new Date(i==null?void 0:i.end_date_time)).format("DD-MM-YYYY hh:mm:ss A")]}),(0,n.jsx)(V.Z,{title:"Thanks for using antd. Have a nice day!",children:(0,n.jsx)(F.ZP,{type:"primary",icon:(0,n.jsx)(P.Z,{}),size:"large",loading:an,iconPosition:"end",onClick:v()(l()().mark(function e(){var h,m;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return I(!0),a.prev=1,m={user_id:O==null||(h=O.currentUser)===null||h===void 0?void 0:h.id,trip_id:i==null?void 0:i.id,payment_id:0,checkout_session_id:0,price:i==null?void 0:i.price,trip_title:i==null?void 0:i.title},a.next=5,(0,o.request)("/api/bookings",{method:"POST",data:m}).then(function(){var Y=v()(l()().mark(function G(p){var f,x;return l()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:console.log("api_response"),console.log(p),I(!1),p!=null&&(f=p.data)!==null&&f!==void 0&&(f=f.stripe_checkout_session)!==null&&f!==void 0&&f.url&&(U.ZP.success("Submitted successfully"),window.location.href=p==null||(x=p.data)===null||x===void 0||(x=x.stripe_checkout_session)===null||x===void 0?void 0:x.url);case 4:case"end":return A.stop()}},G)}));return function(G){return Y.apply(this,arguments)}}()).catch(function(Y){console.log(Y),I(!1)});case 5:return a.abrupt("return",a.sent);case 8:a.prev=8,a.t0=a.catch(1),console.log("api_response - error"),console.log(a.t0);case 12:case"end":return a.stop()}},e,null,[[1,8]])})),children:"Book Now"},"preview")})]})}),(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsx)("div",{className:"single-trip-section-banner-content",children:(0,n.jsx)(C.Z,{src:i==null?void 0:i.image_url,preview:!1,style:{maxHeight:"400px"}})})})]})]}),(0,n.jsxs)("div",{className:"single-trip-destination-section-banner-wrapper",children:[(0,n.jsx)("h1",{children:"Destination"}),(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsx)("div",{className:"single-trip-destination-section-banner-content",children:(0,n.jsx)(C.Z,{src:i==null||(T=i.destination)===null||T===void 0?void 0:T.image_url,preview:!1,style:{maxHeight:"400px"}})})}),(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsxs)("div",{className:"single-trip-destination-section-banner-content",children:[(0,n.jsx)("h1",{children:i==null||(M=i.destination)===null||M===void 0?void 0:M.title}),(0,n.jsx)("p",{children:i==null||(D=i.destination)===null||D===void 0?void 0:D.description})]})})]})]}),(0,n.jsxs)("div",{className:"single-trip-accommodation-section-banner-wrapper",children:[(0,n.jsx)("h1",{children:"Accommodation"}),(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsxs)("div",{className:"single-trip-accommodation-section-banner-content",children:[(0,n.jsx)("h1",{children:i==null||(H=i.accommodation)===null||H===void 0?void 0:H.title}),(0,n.jsx)("p",{children:i==null||(N=i.accommodation)===null||N===void 0?void 0:N.description})]})}),(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsx)("div",{className:"single-trip-accommodation-section-banner-content",children:(0,n.jsx)(C.Z,{src:i==null||($=i.accommodation)===null||$===void 0?void 0:$.image_url,preview:!1,style:{maxHeight:"400px"}})})})]})]}),(0,n.jsxs)("div",{className:"single-trip-travel-mates-section-banner-wrapper",children:[(0,n.jsx)("h1",{children:"Travel Mates"}),(0,n.jsx)(d.Z,{children:i==null?void 0:i.users.map(function(e,h){return console.log("user"),console.log(e),(0,n.jsx)(s.Z,{xs:24,sm:24,md:6,lg:6,xl:6,children:(0,n.jsx)("div",{className:"single-trip-travel-mates-section-banner-content",children:(0,n.jsx)(Z.Z,{hoverable:!0,style:{width:240},cover:(0,n.jsx)("img",{alt:"example",src:e==null?void 0:e.image_url}),children:(0,n.jsx)(W,{title:e==null?void 0:e.name,description:e==null?void 0:e.email})})})})})})]})]})},b=X}}]);
