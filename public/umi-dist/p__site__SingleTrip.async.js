"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2743],{97302:function(C,h,t){var o=t(1413),a=t(67294),m=t(49842),d=t(91146),g=function(r,j){return a.createElement(d.Z,(0,o.Z)((0,o.Z)({},r),{},{ref:j,icon:m.Z}))},c=a.forwardRef(g);h.Z=c},43973:function(C,h,t){t.d(h,{Z:function(){return r}});var o=t(1413),a=t(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v584zM688 420h-55.2c-5.1 0-10 2.5-13 6.6L468.9 634.4l-64.7-89c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.4 0-12.8-6.5-12.8z"}}]},name:"carry-out",theme:"outlined"},d=m,g=t(91146),c=function(u,s){return a.createElement(g.Z,(0,o.Z)((0,o.Z)({},u),{},{ref:s,icon:d}))},v=a.forwardRef(c),r=v},59117:function(C,h,t){t.d(h,{Z:function(){return r}});var o=t(1413),a=t(67294),m={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"},d=m,g=t(91146),c=function(u,s){return a.createElement(g.Z,(0,o.Z)((0,o.Z)({},u),{},{ref:s,icon:d}))},v=a.forwardRef(c),r=v},35311:function(C,h,t){t.r(h),t.d(h,{default:function(){return b}});var o=t(15009),a=t.n(o),m=t(99289),d=t.n(m),g=t(5574),c=t.n(g),v=t(35312),r=t(67294),j=t(4393),u=t(71230),s=t(15746),W=t(83062),w=t(14726),G=t(2453),M=t(55060),z=t(59117),V=t(43973),F=t(97302),J=t(27484),B=t.n(J),n=t(85893),Q=j.Z.Meta,X=function(){var D,E,T,N,I,P,S=(0,v.useModel)("@@initialState"),y=S.initialState,rn=S.loading,on=S.refresh,dn=S.setInitialState;console.log("initialState"),console.log(y);var k=(0,v.useParams)(),q=(0,r.useState)(0),L=c()(q,2),A=L[0],_=L[1],nn=(0,r.useState)(null),Y=c()(nn,2),i=Y[0],tn=Y[1],en=(0,r.useState)(!1),U=c()(en,2),an=U[0],H=U[1];return(0,r.useEffect)(function(){_(k.id)},[]),(0,r.useEffect)(function(){A!=0&&(0,v.request)("/api/trips/"+A,{method:"GET"}).then(function(){var e=d()(a()().mark(function p(f){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:console.log("api_response"),console.log(f),tn(f==null?void 0:f.data);case 3:case"end":return l.stop()}},p)}));return function(p){return e.apply(this,arguments)}}()).catch(function(e){console.log(e)})},[A]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"single-trip-section-banner-wrapper",children:[(0,n.jsx)("h1",{className:"trip-section-heading",children:"Trip Details"}),(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsxs)("div",{className:"single-trip-section-banner-content",children:[(0,n.jsx)("h1",{children:i==null?void 0:i.title}),(0,n.jsx)("p",{children:i==null?void 0:i.description}),(0,n.jsxs)("p",{children:[(0,n.jsx)(z.Z,{})," Price: ",i==null?void 0:i.price]}),(0,n.jsxs)("p",{children:[(0,n.jsx)(V.Z,{})," Start Date: ",B()(new Date(i==null?void 0:i.start_date_time)).format("DD-MM-YYYY hh:mm:ss A")]}),(0,n.jsxs)("p",{children:[(0,n.jsx)(F.Z,{})," End Date: ",B()(new Date(i==null?void 0:i.end_date_time)).format("DD-MM-YYYY hh:mm:ss A")]}),(0,n.jsx)(W.Z,{title:"Thanks for using antd. Have a nice day!",children:(0,n.jsx)(w.ZP,{type:"primary",icon:(0,n.jsx)(z.Z,{}),size:"large",loading:an,iconPosition:"end",onClick:d()(a()().mark(function e(){var p,f;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return H(!0),l.prev=1,f={user_id:y==null||(p=y.currentUser)===null||p===void 0?void 0:p.id,trip_id:i==null?void 0:i.id,payment_id:0,checkout_session_id:0,price:i==null?void 0:i.price,trip_title:i==null?void 0:i.title},l.next=5,(0,v.request)("/api/bookings",{method:"POST",data:f}).then(function(){var R=d()(a()().mark(function K(x){var Z,O;return a()().wrap(function($){for(;;)switch($.prev=$.next){case 0:console.log("api_response"),console.log(x),H(!1),x!=null&&(Z=x.data)!==null&&Z!==void 0&&(Z=Z.stripe_checkout_session)!==null&&Z!==void 0&&Z.url&&(G.ZP.success("Submitted successfully"),window.location.href=x==null||(O=x.data)===null||O===void 0||(O=O.stripe_checkout_session)===null||O===void 0?void 0:O.url);case 4:case"end":return $.stop()}},K)}));return function(K){return R.apply(this,arguments)}}()).catch(function(R){console.log(R),H(!1)});case 5:return l.abrupt("return",l.sent);case 8:l.prev=8,l.t0=l.catch(1),console.log("api_response - error"),console.log(l.t0);case 12:case"end":return l.stop()}},e,null,[[1,8]])})),children:"Book Now"},"preview")})]})}),(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsx)("div",{className:"single-trip-section-banner-content",children:(0,n.jsx)(M.Z,{src:i==null?void 0:i.image_url,preview:!1,style:{maxHeight:"400px"}})})})]})]}),(0,n.jsxs)("div",{className:"single-trip-destination-section-banner-wrapper",children:[(0,n.jsx)("h1",{className:"trip-section-heading",children:"Destination"}),(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsx)("div",{className:"single-trip-destination-section-banner-content",children:(0,n.jsx)(M.Z,{src:i==null||(D=i.destination)===null||D===void 0?void 0:D.image_url,preview:!1,style:{maxHeight:"400px"}})})}),(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsxs)("div",{className:"single-trip-destination-section-banner-content",children:[(0,n.jsx)("h1",{children:i==null||(E=i.destination)===null||E===void 0?void 0:E.title}),(0,n.jsx)("p",{children:i==null||(T=i.destination)===null||T===void 0?void 0:T.description})]})})]})]}),(0,n.jsxs)("div",{className:"single-trip-accommodation-section-banner-wrapper",children:[(0,n.jsx)("h1",{className:"trip-section-heading",children:"Accommodation"}),(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsxs)("div",{className:"single-trip-accommodation-section-banner-content",children:[(0,n.jsx)("h1",{children:i==null||(N=i.accommodation)===null||N===void 0?void 0:N.title}),(0,n.jsx)("p",{children:i==null||(I=i.accommodation)===null||I===void 0?void 0:I.description})]})}),(0,n.jsx)(s.Z,{xs:24,sm:24,md:12,lg:12,xl:12,children:(0,n.jsx)("div",{className:"single-trip-accommodation-section-banner-content",children:(0,n.jsx)(M.Z,{src:i==null||(P=i.accommodation)===null||P===void 0?void 0:P.image_url,preview:!1,style:{maxHeight:"400px"}})})})]})]}),(0,n.jsx)("div",{className:"single-trip-travel-mates-section-banner-wrapper",children:(0,n.jsx)(u.Z,{justify:"center",children:(0,n.jsxs)(s.Z,{xs:24,sm:24,md:20,lg:20,xl:20,children:[(0,n.jsx)("h1",{className:"trip-section-heading",children:"Travel Mates"}),(0,n.jsx)(u.Z,{children:i==null?void 0:i.users.map(function(e,p){return console.log("user"),console.log(e),(0,n.jsx)(s.Z,{xs:24,sm:24,md:6,lg:6,xl:6,children:(0,n.jsx)("div",{className:"single-trip-travel-mates-section-banner-content",children:(0,n.jsx)(j.Z,{hoverable:!0,style:{width:240,marginBlockEnd:20},cover:(0,n.jsx)("img",{alt:"example",src:e==null?void 0:e.image_url}),children:(0,n.jsx)(Q,{title:e==null?void 0:e.name,description:e==null?void 0:e.email})})})})})})]})})})]})},b=X}}]);
