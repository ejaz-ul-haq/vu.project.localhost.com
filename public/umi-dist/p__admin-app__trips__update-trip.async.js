"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[629],{51042:function(B,E,t){var f=t(1413),p=t(67294),u=t(42110),r=t(91146),a=function(c,g){return p.createElement(r.Z,(0,f.Z)((0,f.Z)({},c),{},{ref:g,icon:u.Z}))},e=p.forwardRef(a);E.Z=e},22452:function(B,E,t){var f=t(1413),p=t(91),u=t(67294),r=t(66758),a=t(9170),e=t(85893),D=["fieldProps","proFieldProps"],c="dateTime",g=u.forwardRef(function(o,A){var T=o.fieldProps,I=o.proFieldProps,F=(0,p.Z)(o,D),U=(0,u.useContext)(r.Z);return(0,e.jsx)(a.Z,(0,f.Z)({ref:A,fieldProps:(0,f.Z)({getPopupContainer:U.getPopupContainer},T),valueType:c,proFieldProps:I,filedConfig:{valueType:c,customLightMode:!0}},F))});E.Z=g},90672:function(B,E,t){var f=t(1413),p=t(91),u=t(67294),r=t(9170),a=t(85893),e=["fieldProps","proFieldProps"],D=function(g,o){var A=g.fieldProps,T=g.proFieldProps,I=(0,p.Z)(g,e);return(0,a.jsx)(r.Z,(0,f.Z)({ref:o,valueType:"textarea",fieldProps:A,proFieldProps:T},I))};E.Z=u.forwardRef(D)},58547:function(B,E,t){t.d(E,{h:function(){return p},y:function(){return u}});var f=t(67294),p=function(a){return console.log("Upload event:",a),Array.isArray(a)?a:a&&a.fileList},u=function(a){return new Promise(function(e,D){var c=new FileReader;c.readAsDataURL(a.file.originFileObj),c.onload=function(){var g=c.result;console.log("DataURL: test",g),e(g)},c.onerror=function(g){return D(g)}})}},16801:function(B,E,t){t.d(E,{p:function(){return f}});var f=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(r){setTimeout(function(){r(!0)},u)})}},49790:function(B,E,t){var f=t(67294),p=t(4393),u=t(71230),r=t(15746),a=t(99559),e=t(85893),D=function(g){var o=g.active;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(p.Z,{style:{marginBlockEnd:15},children:(0,e.jsxs)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(r.Z,{span:6,children:[(0,e.jsx)(a.Z.Image,{active:o,style:{width:"210px",maxWidth:"240px",height:"200px",marginBlockEnd:10}}),(0,e.jsx)(r.Z,{span:24,children:(0,e.jsx)(a.Z.Button,{active:o,style:{width:"140px",maxWidth:"200px",height:"35px",marginLeft:"20px"}})})]}),(0,e.jsxs)(r.Z,{span:18,children:[(0,e.jsxs)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(r.Z,{span:8,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(r.Z,{span:8,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(r.Z,{span:8,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]})]}),(0,e.jsx)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsxs)(r.Z,{span:24,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]})})]})]})}),(0,e.jsx)(p.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(r.Z,{span:24,children:(0,e.jsxs)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(r.Z,{span:8,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(r.Z,{span:8,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(r.Z,{span:8,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(p.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(r.Z,{span:24,children:(0,e.jsxs)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(r.Z,{span:12,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(r.Z,{span:12,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(r.Z,{span:24,children:(0,e.jsxs)(u.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(r.Z,{span:12,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(r.Z,{span:12,children:[(0,e.jsx)(a.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(a.Z.Input,{active:o,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})})]})};E.Z=D},58342:function(B,E,t){t.r(E);var f=t(97857),p=t.n(f),u=t(5574),r=t.n(u),a=t(15009),e=t.n(a),D=t(99289),c=t.n(D),g=t(6110),o=t(34994),A=t(2236),T=t(93410),I=t(5966),F=t(90672),U=t(64317),q=t(22452),Ee=t(55895),ee=t(2453),ve=t(53025),te=t(71230),y=t(15746),ae=t(14726),fe=t(55060),xe=t(66476),ne=t(51042),Pe=t(88484),P=t(67294),O=t(35312),je=t(49790),le=t(16801),De=t(27484),re=t.n(De),oe=t(58547),n=t(85893),se={title:"",description:"",image_url:"",price:"",destination_id:"",accommodation_id:"",start_date_time:"",end_date_time:"",users:""},Me=function(){var ie=c()(e()().mark(function K(s){var b;return e()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",s),console.log("values"),console.log(s),b={title:s==null?void 0:s.title,description:s==null?void 0:s.description,image:s==null?void 0:s.image,price:s==null?void 0:s.price,destination_id:s==null?void 0:s.destination_id,accommodation_id:s==null?void 0:s.accommodation_id,start_date_time:re()(new Date(s==null?void 0:s.start_date_time)).format("YYYY-MM-DD HH:mm:ss"),end_date_time:re()(new Date(s==null?void 0:s.end_date_time)).format("YYYY-MM-DD HH:mm:ss"),users:s==null?void 0:s.users.map(function(M){return M==null?void 0:M.user})},console.log("request_data - after"),console.log(b),v.prev=7,v.next=10,(0,O.request)("/api/trips/"+(s==null?void 0:s.trip_id),{method:"PUT",data:b}).then(function(){var M=c()(e()().mark(function R(Z){var W,C;return e()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:console.log("api_response - Trip Put"),console.log(Z),(Z==null||(W=Z.data)===null||W===void 0?void 0:W.id)>0&&(ee.ZP.success("Submitted successfully"),O.history.push("/admin-app/trips/edit/"+(Z==null||(C=Z.data)===null||C===void 0?void 0:C.id)));case 3:case"end":return L.stop()}},R)}));return function(R){return M.apply(this,arguments)}}()).catch(function(M){console.log(M)});case 10:return v.abrupt("return",v.sent);case 13:v.prev=13,v.t0=v.catch(7),console.log("api_response - error"),console.log(v.t0);case 17:return v.abrupt("return",!0);case 18:case"end":return v.stop()}},K,null,[[7,13]])}));return function(s){return ie.apply(this,arguments)}}(),Oe=function(){var K=(0,O.useParams)(),s=ve.Z.useForm(),b=r()(s,1),S=b[0],v=(0,P.useState)(""),M=r()(v,2),R=M[0],Z=M[1],W=(0,P.useState)(!0),C=r()(W,2),de=C[0],L=C[1],Ze=(0,P.useState)("http://vu.project.localhost.com/images/default/placeholder.jpg"),_e=r()(Ze,2),ue=_e[0],z=_e[1],Be=(0,P.useState)(0),ce=r()(Be,2),me=ce[0],Te=ce[1],Ie=(0,P.useState)([]),pe=r()(Ie,2),ye=pe[0],Ce=pe[1],Ae=(0,P.useState)([]),ge=r()(Ae,2),Ue=ge[0],be=ge[1],Re=(0,P.useState)([]),he=r()(Re,2),We=he[0],Le=he[1];(0,P.useEffect)(function(){Te(K.id)},[]),(0,P.useEffect)(function(){return(0,O.request)("/api/destinations",{params:{page:1,per_page:1e3,order_by:"id",order:"asc"}}).then(function(){var _=c()(e()().mark(function l(d){var x;return e()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:console.log("api_response"),console.log(d),console.log("api_response.data"),console.log(d.data),console.log("api_response.data.data"),console.log(d.data.data),x=d.data.data.map(function(j,i){return{value:j.id,label:j.title}}),console.log("table_data"),console.log(x),Ce(x);case 10:case"end":return h.stop()}},l)}));return function(l){return _.apply(this,arguments)}}()).catch(function(_){console.log(_)})},[]),(0,P.useEffect)(function(){return(0,O.request)("/api/accommodations",{params:{page:1,per_page:1e3,order_by:"id",order:"asc"}}).then(function(){var _=c()(e()().mark(function l(d){var x;return e()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:console.log("api_response"),console.log(d),console.log("api_response.data"),console.log(d.data),console.log("api_response.data.data"),console.log(d.data.data),x=d.data.data.map(function(j,i){return{value:j.id,label:j.title}}),console.log("/api/accommodations - table_data"),console.log(x),be(x);case 10:case"end":return h.stop()}},l)}));return function(l){return _.apply(this,arguments)}}()).catch(function(_){console.log(_)})},[]),(0,P.useEffect)(function(){return(0,O.request)("/api/users",{params:{page:1,per_page:1e3,order_by:"id",order:"desc"}}).then(function(){var _=c()(e()().mark(function l(d){var x;return e()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:console.log("api_response"),console.log(d),console.log("api_response.data"),console.log(d.data),console.log("api_response.data.data"),console.log(d.data.data),x=d.data.data.map(function(j,i){return{value:j.id,label:j.name}}),console.log("table_data"),console.log(x),Le(x);case 10:case"end":return h.stop()}},l)}));return function(l){return _.apply(this,arguments)}}()).catch(function(_){console.log(_)})},[]),(0,P.useEffect)(function(){S.setFieldValue(["bio_details","staff_member_profile_image"],R),L(!1)},[R,S]);var Ke=function(l){l.file.status!=="uploading"&&(l.file.status=="removed"&&z(""),l.file.status==="done"&&(0,oe.y)(l).then(function(d){console.log("base64String"),console.log(d),z(d)}),l.file.status==="error"&&ee.ZP.error("".concat(l.file.name," file upload failed.")))},ke=(0,n.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,n.jsx)(ne.Z,{}),(0,n.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return de?(0,n.jsx)(g._z,{header:{title:""},children:(0,n.jsx)(je.Z,{active:!0})}):(0,n.jsxs)(g._z,{children:[(0,n.jsxs)(te.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,n.jsx)(y.Z,{flex:"auto"}),(0,n.jsx)(y.Z,{flex:"100px",children:(0,n.jsxs)(ae.ZP,{type:"primary",onClick:function(){O.history.push("/admin-app/trips/new")},style:{marginBlockEnd:15},children:[(0,n.jsx)(ne.Z,{})," New"]},"primary")})]}),(0,n.jsxs)(o.A,{layout:"vertical",grid:!0,form:S,initialValues:se,params:{trip_id:me},request:c()(e()().mark(function _(){var l,d=arguments;return e()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(l=d.length>0&&d[0]!==void 0?d[0]:{},console.log("proform-params"),console.log(l),(l==null?void 0:l.trip_id)!=0){m.next=5;break}return m.abrupt("return");case 5:return m.next=7,(0,le.p)(2e3);case 7:return m.next=9,(0,O.request)("/api/trips/"+(l==null?void 0:l.trip_id),{method:"GET"}).then(function(){var h=c()(e()().mark(function j(i){var $,w,Y,H,G,V,N,J,Q,X;return e()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return console.log("api_response"),console.log(i),z(i==null||($=i.data)===null||$===void 0?void 0:$.image_url),k.abrupt("return",p()(p()({},se),{},{title:i==null||(w=i.data)===null||w===void 0?void 0:w.title,description:i==null||(Y=i.data)===null||Y===void 0?void 0:Y.description,image_url:i==null||(H=i.data)===null||H===void 0?void 0:H.image_url,price:i==null||(G=i.data)===null||G===void 0?void 0:G.price,destination_id:i==null||(V=i.data)===null||V===void 0?void 0:V.destination_id,accommodation_id:i==null||(N=i.data)===null||N===void 0?void 0:N.accommodation_id,start_date_time:i==null||(J=i.data)===null||J===void 0?void 0:J.start_date_time,end_date_time:i==null||(Q=i.data)===null||Q===void 0?void 0:Q.end_date_time,users:i==null||(X=i.data)===null||X===void 0?void 0:X.users.map(function(Se){return{user:Se.id}})}));case 4:case"end":return k.stop()}},j)}));return function(j){return h.apply(this,arguments)}}()).catch(function(h){console.log(h)});case 9:return m.abrupt("return",m.sent);case 10:case"end":return m.stop()}},_)})),onFinish:function(){var _=c()(e()().mark(function l(d){return e()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log(d),m.next=3,(0,le.p)(1e3);case 3:return d.image=ue,d.trip_id=me,m.next=7,Me(d);case 7:case"end":return m.stop()}},l)}));return function(l){return _.apply(this,arguments)}}(),submitter:{render:function(l,d){return(0,n.jsx)(A.S,{children:d})}},children:[(0,n.jsx)(T.Z,{title:"Trip Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(l){return console.log(l)},children:(0,n.jsxs)(te.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,n.jsx)(y.Z,{span:10,children:(0,n.jsxs)(o.A.Group,{size:24,children:[(0,n.jsx)(y.Z,{span:24,children:(0,n.jsx)(fe.Z,{width:"100%",height:200,src:ue})}),(0,n.jsx)(y.Z,{span:24,style:{textAlign:"center"},children:(0,n.jsx)(o.A.Item,{name:"image",getValueFromEvent:oe.h,children:(0,n.jsx)(xe.Z,{name:"image",onChange:Ke,maxCount:1,children:(0,n.jsx)(ae.ZP,{type:"primary",icon:(0,n.jsx)(Pe.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(l){},children:"Change Image"})})})})]})}),(0,n.jsx)(y.Z,{span:14,children:(0,n.jsxs)(o.A.Group,{size:24,children:[(0,n.jsx)(I.Z,{name:"title",label:"Title",placeholder:"Type trip title",fieldProps:{onChange:function(l){console.log("e.target.value"),console.log(l.target.value)}},colProps:{xs:24,sm:24,md:24,lg:24,xl:24}}),(0,n.jsx)(I.Z,{name:"price",label:"Price",placeholder:"Type trip price Example (15000)",fieldProps:{onChange:function(l){console.log("e.target.value"),console.log(l.target.value)}},colProps:{xs:24,sm:24,md:24,lg:24,xl:24}}),(0,n.jsx)(F.Z,{name:"description",label:"Description",placeholder:"Share a little details regarding the trip. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24},fieldProps:{size:"middle"}})]})}),(0,n.jsxs)(o.A.Group,{size:24,children:[(0,n.jsx)(U.Z,{name:"destination_id",label:"Destinations",showSearch:!0,options:ye,debounceTime:300,placeholder:"Please Select Your Destination",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,n.jsx)(U.Z,{name:"accommodation_id",label:"Accommodations",showSearch:!0,options:Ue,debounceTime:300,placeholder:"Please Select Your Accommodations",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,n.jsxs)(o.A.Group,{size:24,children:[(0,n.jsx)(q.Z,{label:"Select Your Trip Start Date",name:"start_date_time",placeholder:"Start date",rules:[{required:!0}],colProps:{xs:24,sm:24,md:6,lg:6,xl:6}}),(0,n.jsx)(q.Z,{label:"Select Your Trip End Date",name:"end_date_time",placeholder:"End date",rules:[{required:!0}],colProps:{xs:24,sm:24,md:6,lg:6,xl:6}})]})]})}),(0,n.jsx)(T.Z,{title:"Travel Mates Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"default",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(l){return console.log(l)},children:(0,n.jsx)(o.A.Group,{title:"Travel Mates",size:24,children:(0,n.jsx)(Ee.u,{name:"users",min:1,copyIconProps:{tooltipText:"Copy this travel mate"},deleteIconProps:{tooltipText:"Delete this travel mate"},creatorButtonProps:{creatorButtonText:"Add New Travel Mate"},children:(0,n.jsx)(o.A.Group,{size:24,children:(0,n.jsx)(U.Z,{name:"user",label:"Name",showSearch:!0,options:We,debounceTime:300,placeholder:"Please Select Travel Mate",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})})})})]})]})};E.default=Oe}}]);
