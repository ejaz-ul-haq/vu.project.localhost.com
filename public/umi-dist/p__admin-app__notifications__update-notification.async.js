"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[618],{51042:function(K,P,t){var j=t(1413),u=t(67294),_=t(42110),s=t(91146),n=function(x,f){return u.createElement(s.Z,(0,j.Z)((0,j.Z)({},x),{},{ref:f,icon:_.Z}))},e=u.forwardRef(n);P.Z=e},90672:function(K,P,t){var j=t(1413),u=t(91),_=t(67294),s=t(72381),n=t(85893),e=["fieldProps","proFieldProps"],y=function(f,r){var S=f.fieldProps,F=f.proFieldProps,T=(0,u.Z)(f,e);return(0,n.jsx)(s.Z,(0,j.Z)({ref:r,valueType:"textarea",fieldProps:S,proFieldProps:F},T))};P.Z=_.forwardRef(y)},5966:function(K,P,t){var j=t(97685),u=t(1413),_=t(91),s=t(21770),n=t(53025),e=t(55241),y=t(97435),x=t(67294),f=t(72381),r=t(85893),S=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],T="text",Y=function(c){var a=c.fieldProps,g=c.proFieldProps,E=(0,_.Z)(c,S);return(0,r.jsx)(f.Z,(0,u.Z)({valueType:T,fieldProps:a,filedConfig:{valueType:T},proFieldProps:g},E))},Q=function(c){var a=(0,s.Z)(c.open||!1,{value:c.open,onChange:c.onOpenChange}),g=(0,j.Z)(a,2),E=g[0],w=g[1];return(0,r.jsx)(n.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(d){var O,z=d.getFieldValue(c.name||[]);return(0,r.jsx)(e.Z,(0,u.Z)((0,u.Z)({getPopupContainer:function(v){return v&&v.parentNode?v.parentNode:v},onOpenChange:function(v){return w(v)},content:(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[(O=c.statusRender)===null||O===void 0?void 0:O.call(c,z),c.strengthText?(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:c.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},c.popoverProps),{},{open:E,children:c.children}))}})},X=function(c){var a=c.fieldProps,g=c.proFieldProps,E=(0,_.Z)(c,F),w=(0,x.useState)(!1),A=(0,j.Z)(w,2),d=A[0],O=A[1];return a!=null&&a.statusRender&&E.name?(0,r.jsx)(Q,{name:E.name,statusRender:a==null?void 0:a.statusRender,popoverProps:a==null?void 0:a.popoverProps,strengthText:a==null?void 0:a.strengthText,open:d,onOpenChange:O,children:(0,r.jsx)("div",{children:(0,r.jsx)(f.Z,(0,u.Z)({valueType:"password",fieldProps:(0,u.Z)((0,u.Z)({},(0,y.Z)(a,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(W){var v;a==null||(v=a.onBlur)===null||v===void 0||v.call(a,W),O(!1)},onClick:function(W){var v;a==null||(v=a.onClick)===null||v===void 0||v.call(a,W),O(!0)}}),proFieldProps:g,filedConfig:{valueType:T}},E))})}):(0,r.jsx)(f.Z,(0,u.Z)({valueType:"password",fieldProps:a,proFieldProps:g,filedConfig:{valueType:T}},E))},U=Y;U.Password=X,U.displayName="ProFormComponent",P.Z=U},16801:function(K,P,t){t.d(P,{p:function(){return j}});var j=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(s){setTimeout(function(){s(!0)},_)})}},49790:function(K,P,t){var j=t(67294),u=t(4393),_=t(71230),s=t(15746),n=t(99559),e=t(85893),y=function(f){var r=f.active;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(u.Z,{style:{marginBlockEnd:15},children:(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:6,children:[(0,e.jsx)(n.Z.Image,{active:r,style:{width:"210px",maxWidth:"240px",height:"200px",marginBlockEnd:10}}),(0,e.jsx)(s.Z,{span:24,children:(0,e.jsx)(n.Z.Button,{active:r,style:{width:"140px",maxWidth:"200px",height:"35px",marginLeft:"20px"}})})]}),(0,e.jsxs)(s.Z,{span:18,children:[(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]})]}),(0,e.jsx)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsxs)(s.Z,{span:24,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]})})]})]})}),(0,e.jsx)(u.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(s.Z,{span:24,children:(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:8,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(u.Z,{style:{marginBlockEnd:15},children:(0,e.jsx)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(s.Z,{span:24,children:(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}}),(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})}),(0,e.jsx)(u.Z,{children:(0,e.jsx)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,e.jsx)(s.Z,{span:24,children:(0,e.jsxs)(_.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsxs)(s.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]}),(0,e.jsxs)(s.Z,{span:12,children:[(0,e.jsx)(n.Z,{paragraph:!1,title:{width:80},style:{marginBlockEnd:5}}),(0,e.jsx)(n.Z.Input,{active:r,size:"default",block:!0,style:{marginBlockEnd:20}})]})]})})})})]})};P.Z=y},18915:function(K,P,t){t.r(P);var j=t(97857),u=t.n(j),_=t(5574),s=t.n(_),n=t(15009),e=t.n(n),y=t(99289),x=t.n(y),f=t(6110),r=t(34994),S=t(2236),F=t(58128),T=t(5966),Y=t(90672),Q=t(2453),X=t(53025),U=t(71230),k=t(15746),c=t(14726),a=t(51042),g=t(67294),E=t(35312),w=t(49790),A=t(16801),d=t(85893),O={subject:"",body:""},z=function(){var $=x()(e()().mark(function h(m){var Z;return e()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",m),console.log("values"),console.log(m),Z={subject:m==null?void 0:m.subject,body:m==null?void 0:m.body},console.log("request_data - after"),console.log(Z),p.prev=7,p.next=10,(0,E.request)("/api/notifications/"+(m==null?void 0:m.notification_id),{method:"PUT",data:Z}).then(function(){var D=x()(e()().mark(function N(I){var G,L;return e()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:console.log("api_response"),console.log(I),(I==null||(G=I.data)===null||G===void 0?void 0:G.id)>0&&(Q.ZP.success("Submitted successfully"),E.history.push("/admin-app/notifications/edit/"+(I==null||(L=I.data)===null||L===void 0?void 0:L.id)));case 3:case"end":return H.stop()}},N)}));return function(N){return D.apply(this,arguments)}}()).catch(function(D){console.log(D)});case 10:return p.abrupt("return",p.sent);case 13:p.prev=13,p.t0=p.catch(7),console.log("api_response - error"),console.log(p.t0);case 17:return p.abrupt("return",!0);case 18:case"end":return p.stop()}},h,null,[[7,13]])}));return function(m){return $.apply(this,arguments)}}(),W=function(h){return console.log("Upload event:",h),Array.isArray(h)?h:h&&h.fileList},v=function(h){return new Promise(function(m,Z){var C="",p=new FileReader;return p.readAsDataURL(h),p.onload=function(){return m(p.result)},p.onload=function(D){console.log("DataURL:",D.target.result),C=D.target.result},p.onerror=function(D){return Z(D)},C})},De=function(h){var m=h.type==="image/jpeg"||h.type==="image/png";m||message.error("You can only upload JPG/PNG file!");var Z=h.size/1024/1024<2;return Z||message.error("Image must smaller than 2MB!"),m&&Z},_e=function(){var h=(0,E.useParams)(),m=X.Z.useForm(),Z=s()(m,1),C=Z[0],p=(0,g.useState)(""),D=s()(p,2),N=D[0],I=D[1],G=(0,g.useState)(!0),L=s()(G,2),te=L[0],H=L[1],ce=(0,g.useState)(!1),ne=s()(ce,2),Oe=ne[0],re=ne[1],pe=(0,g.useState)(""),se=s()(pe,2),Ze=se[0],me=se[1],ge=(0,g.useState)(""),ae=s()(ge,2),Me=ae[0],ve=ae[1],he=(0,g.useState)("http://vu.project.localhost.com/images/default/placeholder.jpg"),le=s()(he,2),Be=le[0],oe=le[1],fe=(0,g.useState)(),ie=s()(fe,2),Ee=ie[0],Pe=ie[1],je=(0,g.useState)(0),de=s()(je,2),ue=de[0],xe=de[1];(0,g.useEffect)(function(){xe(h.id)},[]),(0,g.useEffect)(function(){C.setFieldValue(["bio_details","staff_member_profile_image"],N),H(!1)},[N,C]);var ye=function(){return re(!1)},Te=function(){var M=x()(e()().mark(function l(o){return e()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(console.log("handlePreview"),console.log("file"),console.log(o),!(!o.url&&!o.preview)){i.next=7;break}return i.next=6,v(o.originFileObj);case 6:o.preview=i.sent;case 7:me(o.url||o.preview),re(!0),ve(o.name||o.url.substring(o.url.lastIndexOf("/")+1));case 10:case"end":return i.stop()}},l)}));return function(o){return M.apply(this,arguments)}}(),Ie=function(l){if(console.log("handleChange.."),console.log("info"),console.log(l),l.file.status=="removed"&&oe(""),l.file.status==="uploading"){console.log("handleChange - status - uploading");return}if(l.file.status==="done")return console.log("handleChange - status - done"),console.log("info.file"),console.log(l.file),Pe(l.file),new Promise(function(o,V){var i="",B=new FileReader;B.readAsDataURL(l.file.originFileObj),B.onload=function(){return o(B.result)},B.onload=function(b){console.log("DataURL:",b.target.result),oe(b.target.result)},B.onerror=function(b){return V(b)}});l.file.status},Ce=(0,d.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[(0,d.jsx)(a.Z,{}),(0,d.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return te?(0,d.jsx)(f._z,{header:{title:""},children:(0,d.jsx)(w.Z,{active:!0})}):(0,d.jsxs)(f._z,{children:[(0,d.jsxs)(U.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,d.jsx)(k.Z,{flex:"auto"}),(0,d.jsx)(k.Z,{flex:"100px",children:(0,d.jsxs)(c.ZP,{type:"primary",onClick:function(){E.history.push("/admin-app/notifications/new")},style:{marginBlockEnd:15},children:[(0,d.jsx)(a.Z,{})," New"]},"primary")})]}),(0,d.jsx)(r.A,{layout:"horizontal",grid:!0,form:C,initialValues:O,params:{notification_id:ue},request:x()(e()().mark(function M(){var l,o=arguments;return e()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(l=o.length>0&&o[0]!==void 0?o[0]:{},console.log("proform-params"),console.log(l),(l==null?void 0:l.notification_id)!=0){i.next=5;break}return i.abrupt("return");case 5:return i.next=7,(0,A.p)(2e3);case 7:return i.next=9,(0,E.request)("/api/notifications/"+(l==null?void 0:l.notification_id),{method:"GET"}).then(function(){var B=x()(e()().mark(function b(R){var q,ee;return e()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return console.log("api_response"),console.log(R),J.abrupt("return",u()(u()({},O),{},{subject:R==null||(q=R.data)===null||q===void 0?void 0:q.subject,body:R==null||(ee=R.data)===null||ee===void 0?void 0:ee.body}));case 3:case"end":return J.stop()}},b)}));return function(b){return B.apply(this,arguments)}}()).catch(function(B){console.log(B)});case 9:return i.abrupt("return",i.sent);case 10:case"end":return i.stop()}},M)})),onFinish:function(){var M=x()(e()().mark(function l(o){return e()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log(o),i.next=3,(0,A.p)(1e3);case 3:return o.image=Ee,o.notification_id=ue,i.next=7,z(o);case 7:case"end":return i.stop()}},l)}));return function(l){return M.apply(this,arguments)}}(),submitter:{render:function(l,o){return(0,d.jsx)(S.S,{children:o})}},children:(0,d.jsx)(F.Z,{title:"Notification Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(l){return console.log(l)},children:(0,d.jsx)(U.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:(0,d.jsxs)(r.A.Group,{size:24,children:[(0,d.jsx)(T.Z,{name:"subject",label:"Subject",placeholder:"Please type notification subject",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,d.jsx)(Y.Z,{name:"body",label:"Body",placeholder:"Please type notification content",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})]})})})})]})};P.default=_e}}]);
